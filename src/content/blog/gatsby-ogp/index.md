---
title: "Gatsby.jsã§ã‚¿ã‚¤ãƒˆãƒ«ã‹ã‚‰OGPç”¨ç”»åƒã‚’ç”Ÿæˆã™ã‚‹æ–¹æ³•"
date: "2020-04-09"
description: "Gatsby.jsã§SNSã‚·ã‚§ã‚¢ãƒœã‚¿ãƒ³ã‚’è¨­ç½®ã—ãŸã®ã«ã€OGPç”¨ç”»åƒã‚’æ¯å›ä½œã‚‹ã®ãŒé¢å€’ãªã®ã§ãƒ“ãƒ«ãƒ‰æ™‚ã«ä¸€ç·’ã«ä½œã‚Œã‚‹ã‚ˆã†ã«ã—ã¾ã—ãŸã€‚"
category: "dev"
emoji: "ğŸ’»"
---
ç”Ÿæˆã™ã‚‹ã¨ã“ã‚“ãªæ„Ÿã˜ã®ç”»åƒãŒå‡ºæ¥ä¸ŠãŒã‚Šã¾ã™

![ç”Ÿæˆã—ãŸç”»åƒ](./gatsbyjs_ogp_image.png)

Gatsby.jsã«è‰²ã€…ãªæ©Ÿèƒ½ã‚’å®Ÿè£…ã—ã¦ã„ã¾ã™ãŒã€ä»Šå›ã¯OGPç”¨ã®ç”»åƒã‚’è‡ªå‹•ç”Ÿæˆã—ã¾ã™ã€‚OGPï¼Ÿãªã«ãã‚Œã¨ã„ã†æ–¹ã«ç°¡å˜ã«èª¬æ˜ã™ã‚‹ã¨ã€OGPã¯[Open Graph Protocol]ã®ç•¥ã§Twitterã‚„LINEã€Slackã«è¨˜äº‹ã‚’ã‚·ã‚§ã‚¢ã—ãŸéš›ã«ãƒªãƒ³ã‚¯ãŒç”»åƒã¨ã¨ã‚‚ã«å¤§ããè¡¨ç¤ºã•ã‚Œã‚‹ã€ã‚ã‚Œã§ã™ã€‚

ä»Šå›ã¯SNSç­‰ã§ã‚·ã‚§ã‚¢ã—ãŸéš›ã«è¡¨ç¤ºã•ã‚Œã‚‹ç”»åƒã‚’è¨˜äº‹ã®ã‚¿ã‚¤ãƒˆãƒ«ã‹ã‚‰ç”Ÿæˆã—ã¾ã™ã€‚

![Twitterã«æŠ•ç¨¿ã—ãŸå ´åˆ](./twitter_card.png)

â€»å®Œæˆã‚¤ãƒ¡ãƒ¼ã‚¸

## åˆ©ç”¨ã™ã‚‹ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
OGPç”¨ç”»åƒã‚’ç”Ÿæˆã™ã‚‹ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã£ã¦è‰²ã€…ã‚ã£ã¦ã€ã‹ãªã‚Šæ©Ÿèƒ½è±Šå¯Œãªã‚‚ã®ã‹ã‚‰ã€å¿…è¦æœ€ä½é™ã®ã‚‚ã®ã¾ã§ã™ã§ã«ç”¨æ„ã•ã‚Œã¦ã„ã¾ã™ã€‚ã—ã‹ã—ãƒ¼ã€€ã“ã‚Œã‚‰ã»ã¼å…¨ã¦ã€æ—¥æœ¬èªå¯¾å¿œã€ã—ã¦ã„ã¾ã›ã‚“ã€‚ã¤ã‚‰ã„ï¼

ã¨ã„ã†ã“ã¨ã§ã€ã“ã®ãƒ–ãƒ­ã‚°ã‚’ä½œã£ãŸåˆæœŸã‹ã‚‰æ¢ã—æ±‚ã‚ã¦ã„ãŸãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã§ã™ãŒã€å…ˆæ—¥ã¤ã„ã«è¦‹ã¤ã‘ã¦ã—ã¾ã£ãŸã®ã§ã€æ©Ÿèƒ½å®Ÿè£…ã™ã‚‹ã“ã¨ãŒã§ãã¾ã—ãŸã€‚ï¼ˆãƒ•ãƒ«ã‚¹ã‚¯ãƒ©ãƒƒãƒã§ä½œã‚‹æŠ€é‡ã¯ã‚ã‚Šã¾ã›ã‚“...ï¼‰

matsuken([@_kentaro_m](https://twitter.com/_kentaro_m)) ã•ã‚“ãŒä½œæˆã—ãŸ[catchy-image](https://github.com/kentaro-m/catchy-image)ã¨ã„ã†ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’åˆ©ç”¨ã—ã¾ã™ã€‚

ã“ã‚Œã¯node.jsã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã§ã‚ã£ã¦ã€Gatsby.jsç”¨ã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ç§ãŒåˆ©ç”¨ã—ã¦ã„ã‚‹ç’°å¢ƒä¸Šnpmã§ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã®ã§npmãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã«ç™»éŒ²ã—ã¾ã—ãŸã€‚

[Gatsby-remark-sns-images](https://github.com/psbss/gatsby-remark-sns-images)

```bash:title=bash
npm install --save gatsby-remark-sns-images
```

ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãŒã§ããŸã‚‰ã€```gatsby-config.js```ã«é…ç½®ã—ã¾ã™ã€‚

```js:title=gatsby-config.js
resolve: `gatsby-transformer-remark`,
      options: {
        plugins: [
          {
          resolve: `gatsby-remark-sns-images`,
            options: {
              output: {
                directory: '',
                fileName: 'thumbnail.png'
              },
              image: {
                width: 1200,
                height: 630,
                backgroundColor: '#15202B',
              },
              style: {
                title: {
                  fontFamily: 'Noto Sans CJK JP',
                  fontColor: '#1DA1F2',
                  fontWeight: 'bold',
                  fontSize: 64,
                  paddingTop: 100,
                  paddingBottom: 200,
                  paddingLeft: 150,
                  paddingRight: 150,
                },
                author: {
                  fontFamily: 'Noto Sans CJK JP',
                  fontColor: '#DDDDDD',
                  fontWeight: '400',
                  fontSize: 42,
                }
              },
              meta: {
                title: '',
                author: 'Yuki Uehara(@psnzbss)'
              },
              fontFile: [
                {
                  path: require.resolve('./src/utils/fonts/NotoSansCJKjp-Bold.otf'),
                  family: 'Noto Sans CJK JP',
                  weight: 'bold',
                },
                {
                  path: require.resolve('./src/utils/fonts/NotoSansCJKjp-Regular.otf'),
                  family: 'Noto Sans CJK JP',
                  weight: '400',
                },
              ],
              iconFile: require.resolve('./content/assets/siteicon.png'),
              timeout: 10000,
            },
          },
```

ãã‚Œãã‚Œã®è¨­å®šé …ç›®ã®èª¬æ˜ã¯[Github](https://github.com/psbss/gatsby-remark-sns-images)ã«æ›¸ã„ã¦ã„ã¾ã™ã€‚

è¨­å®šã®ä¸­ã§è¿½åŠ ã®ãƒ•ã‚©ãƒ³ãƒˆã‚’åˆ©ç”¨ã—ã¦ã„ã‚‹ã®ã§å°å…¥ã—ã¾ã™ã€‚

[https://www.google.com/get/noto/#sans-jpan](https://www.google.com/get/noto/#sans-jpan)

Noto Sans CJK JP ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦ã€è§£å‡ã—ã¾ã™ã€‚ä¸Šè¨˜ã®è¨­å®šã§ã¯ä¸­ã«å…¥ã£ã¦ã„ã‚‹```NotoSansCJKjp-Regular.otf```ã¨```NotoSansCJKjp-Bold.otf```ã®ã¿åˆ©ç”¨ã—ã¦ã„ã‚‹ã®ã§ã€ã“ã®2ã¤ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’```./src/utils/fonts/```ã«é…ç½®ã—ã¾ã™ã€‚

ã“ã‚Œã§æº–å‚™å®Œäº†ã§ã™ï¼

Gatsby build ã§publicãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå†…ã«ç”Ÿæˆã•ã‚ŒãŸç”»åƒãŒé…ç½®ã•ã‚Œã¾ã™ã€‚

OGPã®å®Ÿéš›ã®é…ç½®æ–¹æ³•ã¯æ¬¡ã®è¨˜äº‹ã§ã€ã€ã€
